{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport Layout from \"../../components/global/layout\";\nimport \"./styles.scss\"; // import {manuager} from '../../rxServices/rxPost';\n\nimport { collectionData } from 'rxfire/firestore';\nimport { tap } from 'rxjs/operators';\nimport { loadDB } from \"../../firebase/firebaseRx\";\nexport var Home = function Home() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      listString = _useState2[0],\n      setList = _useState2[1]; // useEffect(()=>{\n  //    manuager().subscribe({\n  //     next: val=>{\n  //       setList(val);\n  //     },\n  //     error:err=>console.log(\"L敲들: \"+err),\n  //     complete:()=>console.log(\"complete\"),\n  //   });\n  // },[]);\n\n\n  var manuager =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var db, _strGet, vaule;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return loadDB();\n\n            case 2:\n              db = _context.sent;\n              _strGet = db.firestore().collection('books');\n              vaule = collectionData(_strGet, 'id').pipe(tap(function (cities) {\n                return console.log('This is just an observable!');\n              })).subscribe({\n                next: function next(val) {\n                  setList(val);\n                },\n                error: function error(err) {\n                  return console.log(\"L敲들: \" + err);\n                },\n                complete: function complete() {\n                  return console.log(\"complete\");\n                }\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function manuager() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(Layout, {\n    title: \"Dashbord\",\n    description: \"This is the home page\"\n  }, React.createElement(\"p\", {\n    className: \"home-page\"\n  }, \"This is is the home page\"), listString.map(function (t, i) {\n    return React.createElement(\"div\", {\n      key: i\n    }, React.createElement(\"div\", null, t.name), React.createElement(\"div\", null, t.reader));\n  }));\n};\nexport default Home;","map":{"version":3,"sources":["D:/SolutionReactJs/testRXJS/demo-rx/pages/index/index.tsx"],"names":["React","useState","Layout","collectionData","tap","loadDB","Home","listString","setList","manuager","db","_strGet","firestore","collection","vaule","pipe","cities","console","log","subscribe","next","val","error","err","complete","map","t","i","name","reader"],"mappings":";;;AAAA,OAAOA,KAAP,IAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP;AACA,uB,CACA;;AAEA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,SAAQC,MAAR;AAEA,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA,kBAEML,QAAQ,CAAC,EAAD,CAFd;AAAA;AAAA,MAEjBM,UAFiB;AAAA,MAELC,OAFK,kBAGxB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMC,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACEJ,MAAM,EADR;;AAAA;AACTK,cAAAA,EADS;AAEXC,cAAAA,OAFW,GAEHD,EAAE,CAACE,SAAH,GAAeC,UAAf,CAA0B,OAA1B,CAFG;AAIXC,cAAAA,KAJW,GAIJX,cAAc,CAACQ,OAAD,EAAU,IAAV,CAAd,CACVI,IADU,CAETX,GAAG,CAAC,UAAAY,MAAM;AAAA,uBAAIC,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAAJ;AAAA,eAAP,CAFM,EAGTC,SAHS,CAGC;AACNC,gBAAAA,IAAI,EAAE,cAAAC,GAAG,EAAE;AACTb,kBAAAA,OAAO,CAACa,GAAD,CAAP;AACD,iBAHK;AAINC,gBAAAA,KAAK,EAAC,eAAAC,GAAG;AAAA,yBAAEN,OAAO,CAACC,GAAR,CAAY,UAAQK,GAApB,CAAF;AAAA,iBAJH;AAKNC,gBAAAA,QAAQ,EAAC;AAAA,yBAAIP,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAJ;AAAA;AALH,eAHD,CAJI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAART,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAkBA,SACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAyB,IAAA,WAAW,EAAC;AAArC,KACA;AAAG,IAAA,SAAS,EAAC;AAAb,gCADA,EAECF,UAAU,CAACkB,GAAX,CAAe,UAACC,CAAD,EAAGC,CAAH,EAAO;AACrB,WACE;AAAK,MAAA,GAAG,EAAEA;AAAV,OACI,iCAAMD,CAAC,CAACE,IAAR,CADJ,EAEI,iCAAMF,CAAC,CAACG,MAAR,CAFJ,CADF;AAMD,GAPA,CAFD,CADF;AAaD,CA7CM;AAiDP,eAAevB,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Layout from 'components/global/layout';\r\nimport './styles.scss';\r\n// import {manuager} from '../../rxServices/rxPost';\r\n\r\nimport { collectionData } from 'rxfire/firestore';\r\nimport { tap } from 'rxjs/operators';\r\nimport {loadDB } from '../../firebase/firebaseRx';\r\n\r\nexport const Home = () => {\r\n\r\n  const [listString, setList] = useState([]);\r\n  // useEffect(()=>{\r\n     \r\n  //    manuager().subscribe({\r\n  //     next: val=>{\r\n  //       setList(val);\r\n  //     },\r\n  //     error:err=>console.log(\"L敲들: \"+err),\r\n  //     complete:()=>console.log(\"complete\"),\r\n  //   });\r\n  // },[]);\r\n\r\n  const manuager = async()=>{\r\n    const db = await loadDB();  \r\n    let _strGet=db.firestore().collection('books');\r\n  \r\n    let vaule= collectionData(_strGet, 'id')\r\n    .pipe(\r\n      tap(cities => console.log('This is just an observable!'))\r\n    ).subscribe({\r\n          next: val=>{\r\n            setList(val);\r\n          },\r\n          error:err=>console.log(\"L敲들: \"+err),\r\n          complete:()=>console.log(\"complete\"),\r\n        });\r\n  }\r\n  \r\n\r\n  \r\n  return (\r\n    <Layout title=\"Dashbord\" description=\"This is the home page\">\r\n    <p className=\"home-page\">This is is the home page</p>\r\n    {listString.map((t,i)=>{\r\n      return (\r\n        <div key={i}>\r\n            <div>{t.name}</div>\r\n            <div>{t.reader}</div>\r\n        </div>\r\n      )\r\n    })}\r\n  </Layout>\r\n  );\r\n}\r\n  \r\n;\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}